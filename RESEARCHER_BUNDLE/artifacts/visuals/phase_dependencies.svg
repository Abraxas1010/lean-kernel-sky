<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 500" width="700" height="500">
  <defs>
    <marker id="arrow" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#60a5fa"/>
    </marker>
  </defs>

  <rect width="700" height="500" fill="#1a1a2e"/>
  <text x="350" y="25" text-anchor="middle" fill="#e94560" font-family="Arial" font-size="16" font-weight="bold">Phase Dependencies</text>

  <!-- Row 1: Data Plane -->
  <g transform="translate(50, 50)">
    <rect width="50" height="30" rx="4" fill="#6c5ce7"/>
    <text x="25" y="20" text-anchor="middle" fill="white" font-size="10">P7</text>
  </g>
  <g transform="translate(120, 50)">
    <rect width="50" height="30" rx="4" fill="#6c5ce7"/>
    <text x="25" y="20" text-anchor="middle" fill="white" font-size="10">P8</text>
  </g>
  <g transform="translate(190, 50)">
    <rect width="50" height="30" rx="4" fill="#00b894"/>
    <text x="25" y="20" text-anchor="middle" fill="white" font-size="10">P9</text>
  </g>
  <g transform="translate(260, 50)">
    <rect width="50" height="30" rx="4" fill="#00b894"/>
    <text x="25" y="20" text-anchor="middle" fill="white" font-size="10">P10</text>
  </g>
  <g transform="translate(330, 50)">
    <rect width="50" height="30" rx="4" fill="#00b894"/>
    <text x="25" y="20" text-anchor="middle" fill="white" font-size="10">P11</text>
  </g>
  <g transform="translate(400, 50)">
    <rect width="50" height="30" rx="4" fill="#00b894"/>
    <text x="25" y="20" text-anchor="middle" fill="white" font-size="10">P12</text>
  </g>
  <g transform="translate(470, 50)">
    <rect width="50" height="30" rx="4" fill="#00b894"/>
    <text x="25" y="20" text-anchor="middle" fill="white" font-size="10">P13</text>
  </g>
  <g transform="translate(540, 50)">
    <rect width="50" height="30" rx="4" fill="#6c5ce7"/>
    <text x="25" y="20" text-anchor="middle" fill="white" font-size="10">P14</text>
  </g>
  <g transform="translate(610, 50)">
    <rect width="50" height="30" rx="4" fill="#6c5ce7"/>
    <text x="25" y="20" text-anchor="middle" fill="white" font-size="10">P15</text>
  </g>

  <!-- Arrows Row 1 -->
  <line x1="100" y1="65" x2="118" y2="65" stroke="#60a5fa" stroke-width="1.5" marker-end="url(#arrow)"/>
  <line x1="170" y1="65" x2="188" y2="65" stroke="#60a5fa" stroke-width="1.5" marker-end="url(#arrow)"/>
  <line x1="240" y1="65" x2="258" y2="65" stroke="#60a5fa" stroke-width="1.5" marker-end="url(#arrow)"/>
  <line x1="310" y1="65" x2="328" y2="65" stroke="#60a5fa" stroke-width="1.5" marker-end="url(#arrow)"/>
  <line x1="380" y1="65" x2="398" y2="65" stroke="#60a5fa" stroke-width="1.5" marker-end="url(#arrow)"/>
  <line x1="450" y1="65" x2="468" y2="65" stroke="#60a5fa" stroke-width="1.5" marker-end="url(#arrow)"/>
  <line x1="520" y1="65" x2="538" y2="65" stroke="#60a5fa" stroke-width="1.5" marker-end="url(#arrow)"/>
  <line x1="590" y1="65" x2="608" y2="65" stroke="#60a5fa" stroke-width="1.5" marker-end="url(#arrow)"/>

  <!-- Row 2: Computation Plane -->
  <g transform="translate(120, 150)">
    <rect width="50" height="30" rx="4" fill="#e17055"/>
    <text x="25" y="20" text-anchor="middle" fill="white" font-size="10">P16</text>
  </g>
  <g transform="translate(220, 150)">
    <rect width="50" height="30" rx="4" fill="#e17055"/>
    <text x="25" y="20" text-anchor="middle" fill="white" font-size="10">P17</text>
  </g>
  <g transform="translate(320, 150)">
    <rect width="50" height="30" rx="4" fill="#e17055"/>
    <text x="25" y="20" text-anchor="middle" fill="white" font-size="10">P18</text>
  </g>
  <g transform="translate(420, 150)">
    <rect width="50" height="30" rx="4" fill="#e17055"/>
    <text x="25" y="20" text-anchor="middle" fill="white" font-size="10">P19</text>
  </g>
  <g transform="translate(520, 150)">
    <rect width="50" height="30" rx="4" fill="#e17055"/>
    <text x="25" y="20" text-anchor="middle" fill="white" font-size="10">P20</text>
  </g>

  <!-- Arrows Row 1→2 -->
  <line x1="145" y1="80" x2="145" y2="148" stroke="#60a5fa" stroke-width="1.5" marker-end="url(#arrow)"/>
  <line x1="215" y1="80" x2="235" y2="148" stroke="#60a5fa" stroke-width="1.5" marker-end="url(#arrow)"/>
  <line x1="285" y1="80" x2="325" y2="148" stroke="#60a5fa" stroke-width="1.5" marker-end="url(#arrow)"/>
  <line x1="425" y1="80" x2="365" y2="148" stroke="#60a5fa" stroke-width="1.5" marker-end="url(#arrow)"/>

  <!-- Arrows Row 2 horizontal -->
  <line x1="170" y1="165" x2="218" y2="165" stroke="#60a5fa" stroke-width="1.5" marker-end="url(#arrow)"/>
  <line x1="270" y1="165" x2="318" y2="165" stroke="#60a5fa" stroke-width="1.5" marker-end="url(#arrow)"/>
  <line x1="370" y1="165" x2="418" y2="165" stroke="#60a5fa" stroke-width="1.5" marker-end="url(#arrow)"/>
  <line x1="470" y1="165" x2="518" y2="165" stroke="#60a5fa" stroke-width="1.5" marker-end="url(#arrow)"/>

  <!-- Row 3: Full Kernel -->
  <g transform="translate(120, 250)">
    <rect width="50" height="30" rx="4" fill="#e94560"/>
    <text x="25" y="20" text-anchor="middle" fill="white" font-size="10">P21</text>
  </g>
  <g transform="translate(220, 250)">
    <rect width="50" height="30" rx="4" fill="#e94560"/>
    <text x="25" y="20" text-anchor="middle" fill="white" font-size="10">P22</text>
  </g>
  <g transform="translate(320, 250)">
    <rect width="50" height="30" rx="4" fill="#e94560"/>
    <text x="25" y="20" text-anchor="middle" fill="white" font-size="10">P23</text>
  </g>
  <g transform="translate(420, 250)">
    <rect width="50" height="30" rx="4" fill="#e94560"/>
    <text x="25" y="20" text-anchor="middle" fill="white" font-size="10">P24</text>
  </g>
  <g transform="translate(520, 250)">
    <rect width="50" height="30" rx="4" fill="#e94560"/>
    <text x="25" y="20" text-anchor="middle" fill="white" font-size="10">P25</text>
  </g>

  <!-- Arrows Row 2→3 -->
  <line x1="445" y1="180" x2="145" y2="248" stroke="#60a5fa" stroke-width="1.5" marker-end="url(#arrow)"/>

  <!-- Arrows Row 3 horizontal -->
  <line x1="170" y1="265" x2="218" y2="265" stroke="#60a5fa" stroke-width="1.5" marker-end="url(#arrow)"/>
  <line x1="270" y1="265" x2="318" y2="265" stroke="#60a5fa" stroke-width="1.5" marker-end="url(#arrow)"/>
  <line x1="370" y1="265" x2="418" y2="265" stroke="#60a5fa" stroke-width="1.5" marker-end="url(#arrow)"/>
  <line x1="470" y1="265" x2="518" y2="265" stroke="#60a5fa" stroke-width="1.5" marker-end="url(#arrow)"/>

  <!-- Legend -->
  <g transform="translate(50, 350)">
    <rect width="15" height="15" fill="#6c5ce7"/>
    <text x="25" y="12" fill="white" font-size="10">Data Plane (7-8, 14-15)</text>
  </g>
  <g transform="translate(200, 350)">
    <rect width="15" height="15" fill="#00b894"/>
    <text x="25" y="12" fill="white" font-size="10">Native Kernel (9-13)</text>
  </g>
  <g transform="translate(370, 350)">
    <rect width="15" height="15" fill="#e17055"/>
    <text x="25" y="12" fill="white" font-size="10">Computation Plane (16-20)</text>
  </g>
  <g transform="translate(550, 350)">
    <rect width="15" height="15" fill="#e94560"/>
    <text x="25" y="12" fill="white" font-size="10">Full Kernel (21-25)</text>
  </g>

  <!-- Phase descriptions -->
  <text x="50" y="420" fill="#636e72" font-size="9">P7: ULevel  P8: Expr  P9: WHNF  P10: DefEq  P11: Inductive  P12: Infer  P13: Environment  P14: Lean4LeanSKY  P15: Demo</text>
  <text x="50" y="440" fill="#636e72" font-size="9">P16: WHNFSKY  P17: DefEqSKY  P18: InferSKY  P19: KernelSKY  P20: Demo</text>
  <text x="50" y="460" fill="#636e72" font-size="9">P21: EnvironmentSKY  P22: WHNFDeltaSKY  P23: WHNFIotaSKY  P24: FullKernelSKY  P25: Demo</text>
</svg>